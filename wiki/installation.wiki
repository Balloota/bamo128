#summary howto install bamo128
=== software requirements===
in preparation<br>
Install the GNU toolchain (avr-gcc,...) for avr8 microcontroller under linux and avrdude for monitor uploading. The latest GNU tools are hidden in avr32studio http://www.atmel.no/beta_ware currently.
If you download and unpack avr32studio in the /opt/cross directory, your environment is compatible with the bamo128 paths.<br>
Unpack bamo128xx.tar.gz. Connect your board with a programmer and the programmer and the board via USB with our pc.<br>
We use the programmer avrISPmkII for arduino boards, for other programmers change the Makefile in the bamo128 directory.
=== bamo128 at atmega processors ===
Bamo128 needs 4Kword (a 16 bit) flash program memory space preferabely in the bootsection of controller (at least the routine Do_spm in file flash.asm) and 256 Byte sram (the best place for sram memory is at INTERNAL_SRAM_END for boards without external ram).<br>
In the standard installation starts bamo128 after reset in the bootsection, where the monitor is placed. The interrupt vector table is at the beginning of flash memory (address 0).<br>
Bamo128 works with interrupt (timer2 for the step and break command, timer1 for the currentTimeMilliSec variable) and burns 2 entries in the vector table.<br>
=== installation for arduino boards ===
The Makefile contains goals for burning the monitor in the board CharonII (atmega128 and externtal 32KRAM), arduino Mega (atmega1280) and arduino Duemilanove (atmega328). In a terminal window type:<br>
||for arduino Mega ||for arduino Duemilanove and compatible||
||#> make all am     ||make all du||
<br><br>and for setting fuses in controller:<br>
|| 4K word bootsection 0xF000-0xFFFF || 2K word bootsection 0x3800 - 0x3FFF||
||start at bootsection after reset  ||  start at bootsection after reset   ||
||#> make fuses am||#> make fuses du||
For the duemilanove the monitor starts at 0x3000 and ends at 0x3FFF.
At address 0x3800 (start after reset)in monitor  is a jump to 0x3000.<br>
You can undo all software and fuses changes with the arduino IDE.
=== bamo128 at other boards and for other controllers. ===
There are two board and processor specific files e.g. arduinomega.h and arduinomegaivtab,.asm include in boardefines.h and ivtab.asm.<br>
This files contain macros for uart,timer, external ram and the processor specific interrupt vector table.<br>
Add files for your boad and processor.<br>
Extend the Makefile with goals and macros for your target.